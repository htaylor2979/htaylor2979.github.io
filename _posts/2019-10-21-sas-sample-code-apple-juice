---
date: 2019-10-21
author: Hellen Taylor
title: SAS Code Example
---

{{%
	libname wk6 "/folders/myfolders/" ;

	/***** Q1: Introduce the Data *****/

	* Check the dataset file contents ;
	proc contents data=wk6.apple_juice ;
		label ;
	run ;

	proc freq data=wk6.apple_juice ;

	run ;


	* Generate descriptive stats ;
	ods graphics on;
	proc univariate data = wk6.apple_juice 
		outtable = applej_stats  
		noprint	;
	run;

	* Print a short table of descriptive stats ;
	title "Descriptive Stats for the Apple Juice Dataset" ;
	proc print data = applej_stats
		noobs label ;
		var _VAR_ _NOBS_ _MIN_ _MEDIAN_ _MEAN_ _MAX_ _SKEW_ _NMISS_ ;
		label 
			_MIN_="Minimum" 
			_MAX_="Maximum" 
			_MEAN_="Mean" 
			_MEDIAN_="Median" 
			_SKEW_ = "Skew"
			_NMISS_="# of Missing Values"
		;
	run ;

	/***** Q2: Investigate Each Predictor *****/

	* Run Proc Logistic on the four predictors, one at a time. ;
	* Implement a macro to save coding ;

	%macro testgrowth(my_vars =, plots_wanted =,  ) ;

		title "Proc Logistic Output for Variable(s): &my_vars" ;
		ods graphics on ;
		proc logistic data=wk6.apple_juice
			plots = &plots_wanted. ;
		
			model growth (event='1') = &my_vars. ;
			
		run ;

	%mend ;

	* Input: plots_wanted can be none, all, a list, or just one plot  ;
	%testgrowth(my_vars = ph, plots_wanted = ROC) ;
	%testgrowth(my_vars = nisin, plots_wanted = ROC) ;
	%testgrowth(my_vars = temperature, plots_wanted = ROC) ;
	%testgrowth(my_vars = brix, plots_wanted = ROC) ;
	* %testgrowth(my_vars = ph nisin temperature brix, plots_wanted = ROC) ;

	* The model with all the variables gets its own code 
	* because a selected method is specified ;
	title "Proc Logistic Output for All Variables with Stepwise Selection Method" ;
	ods graphics on ;
	proc logistic data=wk6.apple_juice
		plots = ROC ;

		model growth (event='1') = ph nisin temperature brix
			/selection=stepwise;
		
	run ;
	
%}}
